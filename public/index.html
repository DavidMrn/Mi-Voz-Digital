<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Voz Digital - Gobernanza Local Medell√≠n</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <!-- Pantalla de Login Principal -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <div class="logo">
                <h1>üèõÔ∏è Mi Voz Digital</h1>
                <p>Plataforma de Gobernanza Local - Medell√≠n</p>
            </div>
            
            <div class="login-options">
                <div class="login-card" onclick="showLoginType('ciudadano')">
                    <div class="icon">üë•</div>
                    <h2>Ciudadano</h2>
                    <p>Reportar problemas y proponer mejoras</p>
                    <button class="btn btn-primary">Ingresar como Ciudadano</button>
                </div>
                
                <div class="login-card" onclick="showLoginType('lider')">
                    <div class="icon">‚≠ê</div>
                    <h2>L√≠der Local</h2>
                    <p>Gestionar reportes y propuestas</p>
                    <button class="btn btn-secondary">Ingresar como L√≠der</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Login/Registro Ciudadano -->
    <div id="ciudadano-login-screen" class="screen">
        <div class="login-container">
            <div class="logo">
                <h1>üèõÔ∏è Mi Voz Digital</h1>
                <p>Portal de Ciudadanos</p>
            </div>

            <div class="auth-container">
                <!-- Formulario de Inicio de Sesi√≥n -->
                <div id="login-form-container" class="auth-form active">
                    <h2>Iniciar Sesi√≥n</h2>
                    <form id="form-login-ciudadano">
                        <div class="form-group">
                            <label>Usuario</label>
                            <input type="text" id="login-usuario" required placeholder="Tu nombre de usuario">
                        </div>
                        <div class="form-group">
                            <label>Contrase√±a</label>
                            <input type="password" id="login-password" required placeholder="Tu contrase√±a">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Ingresar</button>
                    </form>
                    <p class="toggle-text">¬øNo tienes cuenta? <a href="#" onclick="toggleAuthForm()">Reg√≠strate aqu√≠</a></p>
                    <button class="btn btn-secondary btn-block" onclick="backToMainLogin()">‚Üê Atr√°s</button>
                </div>

                <!-- Formulario de Registro -->
                <div id="register-form-container" class="auth-form">
                    <h2>Crear Cuenta</h2>
                    <form id="form-register-ciudadano">
                        <div class="form-group">
                            <label>Nombre Completo</label>
                            <input type="text" id="register-nombre" required placeholder="Tu nombre">
                        </div>
                        <div class="form-group">
                            <label>Usuario</label>
                            <input type="text" id="register-usuario" required placeholder="Elige un nombre de usuario">
                        </div>
                        <div class="form-group">
                            <label>Contrase√±a</label>
                            <input type="password" id="register-password" required placeholder="M√≠nimo 6 caracteres">
                        </div>
                        <div class="form-group">
                            <label>Confirmar Contrase√±a</label>
                            <input type="password" id="register-password-confirm" required placeholder="Confirma tu contrase√±a">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Crear Cuenta</button>
                    </form>
                    <p class="toggle-text">¬øYa tienes cuenta? <a href="#" onclick="toggleAuthForm()">Inicia sesi√≥n aqu√≠</a></p>
                    <button class="btn btn-secondary btn-block" onclick="backToMainLogin()">‚Üê Atr√°s</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Login L√≠der -->
    <div id="lider-login-screen" class="screen">
        <div class="login-container">
            <div class="logo">
                <h1>üèõÔ∏è Mi Voz Digital</h1>
                <p>Panel de Administrador</p>
            </div>

            <div class="auth-container">
                <h2>Acceso de L√≠der Local</h2>
                <form id="form-login-lider" class="auth-form active">
                    <div class="form-group">
                        <label>Usuario</label>
                        <input type="text" id="lider-usuario" required placeholder="Usuario administrador">
                    </div>
                    <div class="form-group">
                        <label>Contrase√±a</label>
                        <input type="password" id="lider-password" required placeholder="Contrase√±a">
                    </div>
                    <button type="submit" class="btn btn-secondary btn-block">Ingresar como L√≠der</button>
                </form>
                <button class="btn btn-primary btn-block" onclick="backToMainLogin()">‚Üê Atr√°s</button>
            </div>
        </div>
    </div>
    
    <!-- Dashboard Ciudadano -->
    <div id="ciudadano-dashboard" class="screen">
        <nav class="navbar">
            <div class="nav-brand">üèõÔ∏è Mi Voz Digital</div>
            <div class="nav-user">
                <span id="user-name">Ciudadano</span>
                <button onclick="logout()" class="btn-logout">Cerrar Sesi√≥n</button>
            </div>
        </nav>

        <div class="container">
            <div class="tabs">
                <button class="tab active" onclick="showTab('panel')">üìä Panel</button>
                <button class="tab" onclick="showTab('reportar')">üìç Reportar Problema</button>
                <button class="tab" onclick="showTab('proponer')">üí° Proponer Idea</button>
            </div>

            <!-- Tab Panel -->
            <div id="tab-panel" class="tab-content active">
                <h2>üìä Panel de Reportes y Propuestas</h2>
                
                <div class="filter-section">
                    <button class="filter-btn active" onclick="filterItems('all')">Todos</button>
                    <button class="filter-btn" onclick="filterItems('recent')">Recientes</button>
                    <button class="filter-btn" onclick="filterItems('popular')">M√°s Votados</button>
                </div>

                <div id="items-list" class="items-grid"></div>
            </div>

            <!-- Tab Reportar -->
            <div id="tab-reportar" class="tab-content">
                <h2>üìç Reportar un Problema</h2>
                <form id="form-reporte" class="form-card">
                    <div class="form-group">
                        <label>T√≠tulo del Problema</label>
                        <input type="text" id="reporte-titulo" required placeholder="Ej: Bache en la calle 45">
                    </div>

                    <div class="form-group">
                        <label>Descripci√≥n</label>
                        <textarea id="reporte-descripcion" required placeholder="Describe el problema en detalle..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Comuna</label>
                        <select id="reporte-comuna" required>
                            <option value="">Selecciona una comuna</option>
                            <option value="1">Comuna 1 - Popular</option>
                            <option value="2">Comuna 2 - Santa Cruz</option>
                            <option value="3">Comuna 3 - Manrique</option>
                            <option value="4">Comuna 4 - Aranjuez</option>
                            <option value="5">Comuna 5 - Castilla</option>
                            <option value="6">Comuna 6 - Doce de Octubre</option>
                            <option value="7">Comuna 7 - Robledo</option>
                            <option value="8">Comuna 8 - Villa Hermosa</option>
                            <option value="9">Comuna 9 - Buenos Aires</option>
                            <option value="10">Comuna 10 - La Candelaria</option>
                            <option value="11">Comuna 11 - Laureles-Estadio</option>
                            <option value="12">Comuna 12 - La Am√©rica</option>
                            <option value="13">Comuna 13 - San Javier</option>
                            <option value="14">Comuna 14 - El Poblado</option>
                            <option value="15">Comuna 15 - Guayabal</option>
                            <option value="16">Comuna 16 - Bel√©n</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Ubicaci√≥n (Latitud, Longitud)</label>
                        <div class="location-input">
                            <input type="text" id="reporte-lat" placeholder="Latitud" value="6.2442">
                            <input type="text" id="reporte-lng" placeholder="Longitud" value="-75.5812">
                            <button type="button" onclick="getLocation()" class="btn-location">üìç Usar mi ubicaci√≥n</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Foto del Problema</label>
                        <input type="file" id="reporte-foto" accept="image/*" capture="environment">
                        <div id="reporte-preview" class="image-preview"></div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Enviar Reporte</button>
                </form>
            </div>

            <!-- Tab Proponer -->
            <div id="tab-proponer" class="tab-content">
                <h2>üí° Proponer Proyecto Comunitario</h2>
                <form id="form-propuesta" class="form-card">
                    <div class="form-group">
                        <label>T√≠tulo de la Propuesta</label>
                        <input type="text" id="propuesta-titulo" required placeholder="Ej: Parque infantil en el barrio">
                    </div>

                    <div class="form-group">
                        <label>Descripci√≥n de la Idea</label>
                        <textarea id="propuesta-descripcion" required placeholder="Describe tu propuesta y su beneficio para la comunidad..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Comuna</label>
                        <select id="propuesta-comuna" required>
                            <option value="">Selecciona una comuna</option>
                            <option value="1">Comuna 1 - Popular</option>
                            <option value="2">Comuna 2 - Santa Cruz</option>
                            <option value="3">Comuna 3 - Manrique</option>
                            <option value="4">Comuna 4 - Aranjuez</option>
                            <option value="5">Comuna 5 - Castilla</option>
                            <option value="6">Comuna 6 - Doce de Octubre</option>
                            <option value="7">Comuna 7 - Robledo</option>
                            <option value="8">Comuna 8 - Villa Hermosa</option>
                            <option value="9">Comuna 9 - Buenos Aires</option>
                            <option value="10">Comuna 10 - La Candelaria</option>
                            <option value="11">Comuna 11 - Laureles-Estadio</option>
                            <option value="12">Comuna 12 - La Am√©rica</option>
                            <option value="13">Comuna 13 - San Javier</option>
                            <option value="14">Comuna 14 - El Poblado</option>
                            <option value="15">Comuna 15 - Guayabal</option>
                            <option value="16">Comuna 16 - Bel√©n</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select id="propuesta-categoria" required>
                            <option value="">Selecciona una categor√≠a</option>
                            <option value="infraestructura">Infraestructura</option>
                            <option value="medio-ambiente">Medio Ambiente</option>
                            <option value="seguridad">Seguridad</option>
                            <option value="cultura">Cultura y Recreaci√≥n</option>
                            <option value="educacion">Educaci√≥n</option>
                            <option value="salud">Salud</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Publicar Propuesta</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Dashboard L√≠der -->
    <div id="lider-dashboard" class="screen">
        <nav class="navbar navbar-leader">
            <div class="nav-brand">‚≠ê Mi Voz Digital - Panel de L√≠der</div>
            <div class="nav-user">
                <span id="leader-name">L√≠der Local</span>
                <button onclick="logout()" class="btn-logout">Cerrar Sesi√≥n</button>
            </div>
        </nav>

        <div class="container">
            <!-- Filtros para L√≠der -->
            <div class="leader-filters">
                <div class="filter-group">
                    <label>Filtrar por Comuna:</label>
                    <select id="filter-comuna-leader" onchange="applyLeaderFilters()">
                        <option value="">Todas las comunas</option>
                        <option value="1">Comuna 1 - Popular</option>
                        <option value="2">Comuna 2 - Santa Cruz</option>
                        <option value="3">Comuna 3 - Manrique</option>
                        <option value="4">Comuna 4 - Aranjuez</option>
                        <option value="5">Comuna 5 - Castilla</option>
                        <option value="6">Comuna 6 - Doce de Octubre</option>
                        <option value="7">Comuna 7 - Robledo</option>
                        <option value="8">Comuna 8 - Villa Hermosa</option>
                        <option value="9">Comuna 9 - Buenos Aires</option>
                        <option value="10">Comuna 10 - La Candelaria</option>
                        <option value="11">Comuna 11 - Laureles-Estadio</option>
                        <option value="12">Comuna 12 - La Am√©rica</option>
                        <option value="13">Comuna 13 - San Javier</option>
                        <option value="14">Comuna 14 - El Poblado</option>
                        <option value="15">Comuna 15 - Guayabal</option>
                        <option value="16">Comuna 16 - Bel√©n</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Filtrar por Categor√≠a:</label>
                    <select id="filter-categoria-leader" onchange="applyLeaderFilters()">
                        <option value="">Todas las categor√≠as</option>
                        <option value="infraestructura">Infraestructura</option>
                        <option value="medio-ambiente">Medio Ambiente</option>
                        <option value="seguridad">Seguridad</option>
                        <option value="cultura">Cultura y Recreaci√≥n</option>
                        <option value="educacion">Educaci√≥n</option>
                        <option value="salud">Salud</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Filtrar por Tipo:</label>
                    <select id="filter-tipo-leader" onchange="applyLeaderFilters()">
                        <option value="">Todos los tipos</option>
                        <option value="reporte">Reportes</option>
                        <option value="propuesta">Propuestas</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Filtrar por Estado:</label>
                    <select id="filter-estado-leader" onchange="applyLeaderFilters()">
                        <option value="">Todos los estados</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="en-proceso">En Proceso</option>
                        <option value="resuelto">Resuelto</option>
                    </select>
                </div>

                <button class="btn btn-secondary" onclick="resetLeaderFilters()">üîÑ Limpiar Filtros</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìã</div>
                    <div class="stat-info">
                        <h3 id="stat-reportes">0</h3>
                        <p>Reportes Totales</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí°</div>
                    <div class="stat-info">
                        <h3 id="stat-propuestas">0</h3>
                        <p>Propuestas Activas</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è≥</div>
                    <div class="stat-info">
                        <h3 id="stat-pendientes">0</h3>
                        <p>Pendientes</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3 id="stat-resueltos">0</h3>
                        <p>Resueltos</p>
                    </div>
                </div>
            </div>

            <h2>üîß Gesti√≥n de Reportes y Propuestas</h2>
            <div id="leader-items-list" class="items-grid"></div>
        </div>
    </div>

    <!-- Modal para ver detalles -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>